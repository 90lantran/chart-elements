<link rel="import" href="chart-property-behavior.html">

<script>
  var ChartBehaviors = ChartBehaviors || {};
  /** @polymerBehavior */
  ChartBehaviors.DatasetPropertiesBehaviorImpl = {

    properties: {

      data: {
        type: Object,
        value: function () {
          return {};
        }
      },

      options: {
        type: Object,
        value: function () {
          return {};
        }
      },

    },

    observers: [
      '_configurationChanged(data.*, options.*)'
    ],

    _configurationChanged: function(dataRecord, optionsRecord) {
      if (dataRecord.base.labels && dataRecord.base.datasets) {
        this.isUpdateable = true;
      } else {
        this.isUpdateable = false;
      }

      if (this.isUpdateable && this.isAttached) {
        this.updateChart();
      }
    }

  };

  /** @polymerBehavior */
  ChartBehaviors.DatasetPropertiesBehavior = [
    ChartBehaviors.DatasetPropertiesBehaviorImpl,
    ChartBehaviors.ChartPropertyBehavior
  ];

</script>
